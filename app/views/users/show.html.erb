<div class="container">
    <h1>profile Users#show</h1>
    <%# ユーザープロフィール %>
  <div class="row">
    <div class="col-3">
        <%= attachment_image_tag @user, :profile_image, format: 'jpeg', fallback: "no_image.jpg", size: "150x150", class: "profile-image" %>
    </div>
    <div class="col-9">
      <div class="profile-area">
        <span class="profile-name"><%= @user.name %></span>
        <span class="profile-icon">
          <% if @user.id == current_user.id %>
            <%= link_to edit_user_path(@user) do %>
              <i class="fas fa-user-cog"></i>
            <% end %>
          <% end %>
        </span>
        <div class="profile-text"><%= @user.profile %></div>
      </div>
    </div>
  </div>
  <%# --------------------------- %>

  <%# 投稿一覧（本人分） %>
  <% @post.each do |post| %>
    <div class="post-content">
      <%= link_to post_path(post.id) do %>
        <div class="row">
            <div class="col-2">
              <%= attachment_image_tag @user, :profile_image, format: 'jpeg', fallback: "no_image.jpg", size: "50x50", class: "profile-image-mini" %>
            </div>
            <div class="col-7 post-name">
              <%= post.user.name %>
            </div>
            <div class="col-3 post-date">
              <%= post.created_at.strftime('%Y/%m/%d') %>
            </div>
        </div>

        <div class="row">
          <div class="col-2"></div>
          <div class="col-10">
            <div class="row post-text">
              <%= post.post %>
            </div>
            <div class="row post-image">
                <%= attachment_image_tag post, :post_image, format: 'jpeg', size: "420x280", class: "post-image" %>
            </div>
          </div>
        </div>
      <% end %>
      <%# --------------------------- %>
      <%# 投稿下部--------------------- %>
      <div class="row">
        <div class="col-2"></div>
        <div class="col">
          <ul class="list-group list-group-horizontal-md">
            <% if post.favorited_by?(current_user) %>
              <li class="list-group-item flex-fill">
                <%= link_to post_favorites_path(post), method: :delete do %>
                  <i class="fa fa-heart" aria-hidden="true" style="color: red;"></i>
                  <%= post.favorites.count %>
                <% end %>
              </li>
            <% else %>
              <li class="list-group-item flex-fill">
                <%= link_to post_favorites_path(post), method: :post do %>
                  <i class="far fa-heart" aria-hidden="true"></i>
                  <%= post.favorites.count %>
                <% end %>
              </li>
            <% end %>
            <li class="list-group-item flex-fill">
              <%= link_to post_path(post.id) do %>
                <%= post.comments.count %>
                <i class="far fa-comment-dots"></i>
              <% end %>
            </li>
            <li class="list-group-item">
              <%= link_to "削除", post_path(post), method: :delete %>
            </li>
          </ul>
        </div>
      </div>
    </div>
  <% end %>
  <%# --------------------------- %>
  <%= paginate @post %>
</div>
